{
  "id": "f0bae411-558c-4abd-8fd5-98bb356b79e3",
  "prevId": "cb0b9376-462b-48cc-88ff-a7a8fd43c17c",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.account": {
      "name": "account",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider_id": {
          "name": "provider_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "id_token": {
          "name": "id_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token_expires_at": {
          "name": "access_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token_expires_at": {
          "name": "refresh_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "account_user_id_user_id_fk": {
          "name": "account_user_id_user_id_fk",
          "tableFrom": "account",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session": {
      "name": "session",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "impersonated_by": {
          "name": "impersonated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "session_user_id_user_id_fk": {
          "name": "session_user_id_user_id_fk",
          "tableFrom": "session",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "session_token_unique": {
          "name": "session_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user": {
      "name": "user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_username": {
          "name": "display_username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "banned": {
          "name": "banned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ban_reason": {
          "name": "ban_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ban_expires": {
          "name": "ban_expires",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_email_unique": {
          "name": "user_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        },
        "user_username_unique": {
          "name": "user_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.verification": {
      "name": "verification",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "identifier": {
          "name": "identifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.categorical_trait_set": {
      "name": "categorical_trait_set",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "trait_sets_key_uq": {
          "name": "trait_sets_key_uq",
          "columns": [
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.categorical_trait_value": {
      "name": "categorical_trait_value",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "set_id": {
          "name": "set_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "hex_code": {
          "name": "hex_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_canonical": {
          "name": "is_canonical",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "canonical_value_id": {
          "name": "canonical_value_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "trait_values_set_key_uq": {
          "name": "trait_values_set_key_uq",
          "columns": [
            {
              "expression": "set_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "trait_values_set_idx": {
          "name": "trait_values_set_idx",
          "columns": [
            {
              "expression": "set_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "trait_values_canonical_target_idx": {
          "name": "trait_values_canonical_target_idx",
          "columns": [
            {
              "expression": "canonical_value_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"categorical_trait_value\".\"canonical_value_id\" IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "categorical_trait_value_set_id_categorical_trait_set_id_fk": {
          "name": "categorical_trait_value_set_id_categorical_trait_set_id_fk",
          "tableFrom": "categorical_trait_value",
          "tableTo": "categorical_trait_set",
          "columnsFrom": [
            "set_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "canonical_value_same_set_fk": {
          "name": "canonical_value_same_set_fk",
          "tableFrom": "categorical_trait_value",
          "tableTo": "categorical_trait_value",
          "columnsFrom": [
            "set_id",
            "canonical_value_id"
          ],
          "columnsTo": [
            "set_id",
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "trait_values_set_id_id_uq": {
          "name": "trait_values_set_id_id_uq",
          "nullsNotDistinct": false,
          "columns": [
            "set_id",
            "id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "trait_values_role_consistency_ck": {
          "name": "trait_values_role_consistency_ck",
          "value": "CASE WHEN \"categorical_trait_value\".\"is_canonical\" THEN \"categorical_trait_value\".\"canonical_value_id\" IS NULL\n        ELSE \"categorical_trait_value\".\"canonical_value_id\" IS NOT NULL END"
        },
        "trait_values_no_self_alias_ck": {
          "name": "trait_values_no_self_alias_ck",
          "value": "\"categorical_trait_value\".\"canonical_value_id\" IS NULL OR \"categorical_trait_value\".\"canonical_value_id\" <> \"categorical_trait_value\".\"id\""
        },
        "trait_values_hex_code_format_ck": {
          "name": "trait_values_hex_code_format_ck",
          "value": "\"categorical_trait_value\".\"hex_code\" IS NULL OR \"categorical_trait_value\".\"hex_code\" ~ '^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$'"
        }
      },
      "isRLSEnabled": false
    },
    "public.categorical_character_meta": {
      "name": "categorical_character_meta",
      "schema": "",
      "columns": {
        "character_id": {
          "name": "character_id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true
        },
        "trait_set_id": {
          "name": "trait_set_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "is_multi_select": {
          "name": "is_multi_select",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "categorical_character_meta_character_id_character_id_fk": {
          "name": "categorical_character_meta_character_id_character_id_fk",
          "tableFrom": "categorical_character_meta",
          "tableTo": "character",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "categorical_character_meta_trait_set_id_categorical_trait_set_id_fk": {
          "name": "categorical_character_meta_trait_set_id_categorical_trait_set_id_fk",
          "tableFrom": "categorical_character_meta",
          "tableTo": "categorical_trait_set",
          "columnsFrom": [
            "trait_set_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.character": {
      "name": "character",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "group_id": {
          "name": "group_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "characters_key_uq": {
          "name": "characters_key_uq",
          "columns": [
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "characters_group_idx": {
          "name": "characters_group_idx",
          "columns": [
            {
              "expression": "group_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "character_group_id_character_group_id_fk": {
          "name": "character_group_id_character_group_id_fk",
          "tableFrom": "character",
          "tableTo": "character_group",
          "columnsFrom": [
            "group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.numeric_character_meta": {
      "name": "numeric_character_meta",
      "schema": "",
      "columns": {
        "character_id": {
          "name": "character_id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true
        },
        "kind": {
          "name": "kind",
          "type": "numeric_character_kind",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "unit": {
          "name": "unit",
          "type": "numeric_unit",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "numeric_character_meta_character_id_character_id_fk": {
          "name": "numeric_character_meta_character_id_character_id_fk",
          "tableFrom": "numeric_character_meta",
          "tableTo": "character",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.character_group": {
      "name": "character_group",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "character_groups_key_uq": {
          "name": "character_groups_key_uq",
          "columns": [
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.taxon_character_number": {
      "name": "taxon_character_number",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "taxon_id": {
          "name": "taxon_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "character_id": {
          "name": "character_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "value_num": {
          "name": "value_num",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tcn_taxon_char_uq": {
          "name": "tcn_taxon_char_uq",
          "columns": [
            {
              "expression": "taxon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "character_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tcn_taxon_idx": {
          "name": "tcn_taxon_idx",
          "columns": [
            {
              "expression": "taxon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tcn_char_idx": {
          "name": "tcn_char_idx",
          "columns": [
            {
              "expression": "character_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "taxon_character_number_taxon_id_taxon_id_fk": {
          "name": "taxon_character_number_taxon_id_taxon_id_fk",
          "tableFrom": "taxon_character_number",
          "tableTo": "taxon",
          "columnsFrom": [
            "taxon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "taxon_character_number_character_id_character_id_fk": {
          "name": "taxon_character_number_character_id_character_id_fk",
          "tableFrom": "taxon_character_number",
          "tableTo": "character",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "tcn_value_finite": {
          "name": "tcn_value_finite",
          "value": "\"taxon_character_number\".\"value_num\" = \"taxon_character_number\".\"value_num\" AND \"taxon_character_number\".\"value_num\" > '-Infinity'::float8 AND \"taxon_character_number\".\"value_num\" < 'Infinity'::float8"
        }
      },
      "isRLSEnabled": false
    },
    "public.taxon_character_number_range": {
      "name": "taxon_character_number_range",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "taxon_id": {
          "name": "taxon_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "character_id": {
          "name": "character_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "value_min": {
          "name": "value_min",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "value_max": {
          "name": "value_max",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tcnr_taxon_char_uq": {
          "name": "tcnr_taxon_char_uq",
          "columns": [
            {
              "expression": "taxon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "character_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tcnr_taxon_idx": {
          "name": "tcnr_taxon_idx",
          "columns": [
            {
              "expression": "taxon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tcnr_char_idx": {
          "name": "tcnr_char_idx",
          "columns": [
            {
              "expression": "character_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "taxon_character_number_range_taxon_id_taxon_id_fk": {
          "name": "taxon_character_number_range_taxon_id_taxon_id_fk",
          "tableFrom": "taxon_character_number_range",
          "tableTo": "taxon",
          "columnsFrom": [
            "taxon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "taxon_character_number_range_character_id_character_id_fk": {
          "name": "taxon_character_number_range_character_id_character_id_fk",
          "tableFrom": "taxon_character_number_range",
          "tableTo": "character",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "tcnr_min_le_max": {
          "name": "tcnr_min_le_max",
          "value": "\"taxon_character_number_range\".\"value_min\" <= \"taxon_character_number_range\".\"value_max\""
        },
        "tcnr_values_finite": {
          "name": "tcnr_values_finite",
          "value": "\n        \"taxon_character_number_range\".\"value_min\" = \"taxon_character_number_range\".\"value_min\"\n        AND \"taxon_character_number_range\".\"value_min\" > '-Infinity'::float8\n        AND \"taxon_character_number_range\".\"value_min\" < 'Infinity'::float8\n        AND \"taxon_character_number_range\".\"value_max\" = \"taxon_character_number_range\".\"value_max\"\n        AND \"taxon_character_number_range\".\"value_max\" > '-Infinity'::float8\n        AND \"taxon_character_number_range\".\"value_max\" < 'Infinity'::float8\n      "
        }
      },
      "isRLSEnabled": false
    },
    "public.taxon_character_state_categorical": {
      "name": "taxon_character_state_categorical",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "taxon_id": {
          "name": "taxon_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "character_id": {
          "name": "character_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "trait_value_id": {
          "name": "trait_value_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tcs_cat_unique": {
          "name": "tcs_cat_unique",
          "columns": [
            {
              "expression": "taxon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "character_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "trait_value_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tcs_cat_taxon_idx": {
          "name": "tcs_cat_taxon_idx",
          "columns": [
            {
              "expression": "taxon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tcs_cat_character_idx": {
          "name": "tcs_cat_character_idx",
          "columns": [
            {
              "expression": "character_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tcs_cat_trait_idx": {
          "name": "tcs_cat_trait_idx",
          "columns": [
            {
              "expression": "trait_value_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tcs_cat_character_trait_idx": {
          "name": "tcs_cat_character_trait_idx",
          "columns": [
            {
              "expression": "character_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "trait_value_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "taxon_character_state_categorical_taxon_id_taxon_id_fk": {
          "name": "taxon_character_state_categorical_taxon_id_taxon_id_fk",
          "tableFrom": "taxon_character_state_categorical",
          "tableTo": "taxon",
          "columnsFrom": [
            "taxon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "taxon_character_state_categorical_character_id_character_id_fk": {
          "name": "taxon_character_state_categorical_character_id_character_id_fk",
          "tableFrom": "taxon_character_state_categorical",
          "tableTo": "character",
          "columnsFrom": [
            "character_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "taxon_character_state_categorical_trait_value_id_categorical_trait_value_id_fk": {
          "name": "taxon_character_state_categorical_trait_value_id_categorical_trait_value_id_fk",
          "tableFrom": "taxon_character_state_categorical",
          "tableTo": "categorical_trait_value",
          "columnsFrom": [
            "trait_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.taxon_name": {
      "name": "taxon_name",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "taxon_id": {
          "name": "taxon_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "locale": {
          "name": "locale",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_preferred": {
          "name": "is_preferred",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "names_taxon_idx": {
          "name": "names_taxon_idx",
          "columns": [
            {
              "expression": "taxon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "names_taxon_locale_idx": {
          "name": "names_taxon_locale_idx",
          "columns": [
            {
              "expression": "taxon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "locale",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "names_sci_accepted_idx": {
          "name": "names_sci_accepted_idx",
          "columns": [
            {
              "expression": "taxon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"taxon_name\".\"locale\" = 'sci' AND \"taxon_name\".\"is_preferred\" = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "names_value_trgm_lower_idx": {
          "name": "names_value_trgm_lower_idx",
          "columns": [
            {
              "expression": "lower(\"value\") gin_trgm_ops",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "names_accepted_scientific_uq": {
          "name": "names_accepted_scientific_uq",
          "columns": [
            {
              "expression": "taxon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"taxon_name\".\"locale\" = 'sci' AND \"taxon_name\".\"is_preferred\" = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "names_preferred_per_locale_uq": {
          "name": "names_preferred_per_locale_uq",
          "columns": [
            {
              "expression": "taxon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "locale",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"taxon_name\".\"is_preferred\" = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "names_value_norm_uq": {
          "name": "names_value_norm_uq",
          "columns": [
            {
              "expression": "taxon_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "lower(btrim(\"locale\"))",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "lower(btrim(\"value\"))",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "taxon_name_taxon_id_taxon_id_fk": {
          "name": "taxon_name_taxon_id_taxon_id_fk",
          "tableFrom": "taxon_name",
          "tableTo": "taxon",
          "columnsFrom": [
            "taxon_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "names_locale_not_empty": {
          "name": "names_locale_not_empty",
          "value": "btrim(\"taxon_name\".\"locale\") <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.taxon": {
      "name": "taxon",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "parent_id": {
          "name": "parent_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "replaced_by_id": {
          "name": "replaced_by_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "rank": {
          "name": "rank",
          "type": "taxon_rank",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "taxon_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "source_gbif_id": {
          "name": "source_gbif_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "source_inat_id": {
          "name": "source_inat_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "media": {
          "name": "media",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "taxa_parent_idx": {
          "name": "taxa_parent_idx",
          "columns": [
            {
              "expression": "parent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "taxa_rank_idx": {
          "name": "taxa_rank_idx",
          "columns": [
            {
              "expression": "rank",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "taxa_source_gbif_uq": {
          "name": "taxa_source_gbif_uq",
          "columns": [
            {
              "expression": "source_gbif_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"taxon\".\"source_gbif_id\" IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "taxa_source_inat_uq": {
          "name": "taxa_source_inat_uq",
          "columns": [
            {
              "expression": "source_inat_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"taxon\".\"source_inat_id\" IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "taxa_parent_fk": {
          "name": "taxa_parent_fk",
          "tableFrom": "taxon",
          "tableTo": "taxon",
          "columnsFrom": [
            "parent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "taxa_replaced_by_fk": {
          "name": "taxa_replaced_by_fk",
          "tableFrom": "taxon",
          "tableTo": "taxon",
          "columnsFrom": [
            "replaced_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "taxa_parent_not_self": {
          "name": "taxa_parent_not_self",
          "value": "\"taxon\".\"parent_id\" IS NULL OR \"taxon\".\"parent_id\" <> \"taxon\".\"id\""
        }
      },
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.role": {
      "name": "role",
      "schema": "public",
      "values": [
        "user",
        "curator",
        "admin"
      ]
    },
    "public.taxon_rank": {
      "name": "taxon_rank",
      "schema": "public",
      "values": [
        "domain",
        "kingdom",
        "phylum",
        "class",
        "subclass",
        "superorder",
        "order",
        "family",
        "subfamily",
        "tribe",
        "genus",
        "species",
        "subspecies",
        "variety"
      ]
    },
    "public.taxon_status": {
      "name": "taxon_status",
      "schema": "public",
      "values": [
        "draft",
        "active",
        "deprecated"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}